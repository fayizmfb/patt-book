{% extends "base.html" %}

{% block title %}Settings - Retail App{% endblock %}

{% block content %}
<div class="card">
    <h2>Settings</h2>
    <p style="color: #666; margin-bottom: 30px;">
        Configure your store profile and basic settings
    </p>

    <form method="POST" action="{{ url_for('settings') }}">
        <!-- Store Details Section -->
        <h3 style="color: #2c3e50; margin-bottom: 20px;">Store Details</h3>

        <!-- Store Name -->
        <div class="form-group">
            <label for="store_name">Store Name *</label>
            <input type="text"
                   id="store_name"
                   name="store_name"
                   value="{{ settings.get('store_name', {}).get('value', 'Your Store') }}"
                   required>
            <small style="color: #666; display: block; margin-top: 5px;">
                Your store name as it will appear in communications
            </small>
        </div>

        <!-- Store Address -->
        <div class="form-group">
            <label for="store_address">Store Address</label>
            <textarea id="store_address"
                      name="store_address"
                      rows="3"
                      placeholder="Enter your complete store address">{{ settings.get('store_address', {}).get('value', '') }}</textarea>
            <small style="color: #666; display: block; margin-top: 5px;">
                Complete address of your store location
            </small>
        </div>

        <!-- Store Email -->
        <div class="form-group">
            <label for="store_email">Store Email</label>
            <input type="email"
                   id="store_email"
                   name="store_email"
                   value="{{ settings.get('store_email', {}).get('value', '') }}"
                   placeholder="store@example.com">
            <small style="color: #666; display: block; margin-top: 5px;">
                Email address for store communications (optional)
            </small>
        </div>

        <hr style="margin: 30px 0; border: none; border-top: 1px solid #ddd;">

        <!-- Default Dunning / Due Days Section -->
        <h3 style="color: #2c3e50; margin-bottom: 20px;">Default Due Days</h3>

        <!-- Default Dunning Days -->
        <div class="form-group">
            <label for="default_dunning_days">Default Due Days *</label>
            <select id="default_dunning_days" name="default_dunning_days" required>
                <option value="7" {% if settings.get('default_dunning_days', {}).get('value') == '7' %}selected{% endif %}>7 days</option>
                <option value="10" {% if settings.get('default_dunning_days', {}).get('value') == '10' %}selected{% endif %}>10 days</option>
                <option value="14" {% if settings.get('default_dunning_days', {}).get('value') == '14' %}selected{% endif %}>14 days</option>
                <option value="15" {% if settings.get('default_dunning_days', {}).get('value') == '15' %}selected{% endif %}>15 days</option>
                <option value="21" {% if settings.get('default_dunning_days', {}).get('value') == '21' %}selected{% endif %}>21 days</option>
                <option value="25" {% if settings.get('default_dunning_days', {}).get('value') == '25' %}selected{% endif %}>25 days</option>
                <option value="30" {% if settings.get('default_dunning_days', {}).get('value') == '30' %}selected{% endif %}>30 days</option>
                <option value="45" {% if settings.get('default_dunning_days', {}).get('value') == '45' %}selected{% endif %}>45 days</option>
                <option value="60" {% if settings.get('default_dunning_days', {}).get('value') == '60' %}selected{% endif %}>60 days</option>
            </select>
            <small style="color: #666; display: block; margin-top: 5px;">
                Default number of days from credit entry until payment is due
            </small>
        </div>

        <hr style="margin: 30px 0; border: none; border-top: 1px solid #ddd;">

        <!-- Login Details Section (Read-only) -->
        <h3 style="color: #2c3e50; margin-bottom: 20px;">Login Details</h3>

        <!-- Mobile Number (Read-only) -->
        <div class="form-group">
            <label for="login_mobile">Login Mobile Number</label>
            <input type="text"
                   id="login_mobile"
                   value="{{ login_mobile }}"
                   readonly
                   style="background-color: #f8f9fa; cursor: not-allowed;">
            <small style="color: #666; display: block; margin-top: 5px;">
                Mobile number used for login (cannot be changed from settings)
            </small>
        </div>

        <div class="actions">
            <button type="submit" class="btn btn-success">Save Settings</button>
            <a href="{{ url_for('dashboard') }}" class="btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}

